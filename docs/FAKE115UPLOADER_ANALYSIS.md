# fake115uploader é¡¹ç›®åˆ†æ

åŸºäºå¯¹ [fake115uploader](https://github.com/orzogc/fake115uploader) é¡¹ç›®çš„åˆ†æ

## é¡¹ç›®ç»“æ„

```
fake115uploader/
â”œâ”€â”€ fast.go          # ç§’ä¼ å®ç°
â”œâ”€â”€ oss.go           # OSSä¸Šä¼ å®ç°  
â”œâ”€â”€ multipart.go     # åˆ†ç‰‡ä¸Šä¼ å®ç°
â”œâ”€â”€ hash.go          # å“ˆå¸Œè®¡ç®—
â”œâ”€â”€ cipher/          # åŠ å¯†ç›¸å…³
â””â”€â”€ main.go          # ä¸»ç¨‹åºå…¥å£
```

## æ ¸å¿ƒå‘ç°

### 1. ä¸Šä¼ æµç¨‹

æ ¹æ®READMEå’Œé¡¹ç›®æè¿°ï¼Œfake115uploaderæ”¯æŒä¸‰ç§æ¨¡å¼ï¼š

#### æ¨¡å¼1ï¼šçº¯ç§’ä¼  (`-f`)
```
1. è®¡ç®—æ–‡ä»¶SHA1
2. è°ƒç”¨115ç§’ä¼ API
3. å¦‚æœæ–‡ä»¶å­˜åœ¨ â†’ æˆåŠŸ
4. å¦‚æœä¸å­˜åœ¨ â†’ å¤±è´¥ï¼ˆä¸ç»§ç»­ä¸Šä¼ ï¼‰
```

#### æ¨¡å¼2ï¼šç§’ä¼ +æ™®é€šä¸Šä¼  (`-u`)
```
1. å°è¯•ç§’ä¼ 
2. å¦‚æœç§’ä¼ å¤±è´¥ â†’ æ™®é€šä¸Šä¼ ï¼ˆ<5GBï¼‰
3. æ™®é€šä¸Šä¼ ï¼šç›´æ¥POSTåˆ°115æˆ–OSS
```

#### æ¨¡å¼3ï¼šç§’ä¼ +æ–­ç‚¹ç»­ä¼  (`-m`)
```
1. å°è¯•ç§’ä¼ 
2. å¦‚æœç§’ä¼ å¤±è´¥ â†’ æ–­ç‚¹ç»­ä¼ æ¨¡å¼
3. åˆ†ç‰‡ä¸Šä¼ ï¼šæ”¯æŒä¸­æ–­æ¢å¤
```

### 2. å…³é”®APIç«¯ç‚¹

æ ¹æ®READMEä¸­çš„æç¤ºï¼š

```bash
curl https://uplb.115.com/3.0/getuploadinfo.php
```

è¿™ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹OSSåœ°åŸŸä¿¡æ¯ï¼Œè¯´æ˜ï¼š
- `uplb.115.com` æ˜¯ä¸Šä¼ ä¸“ç”¨åŸŸå
- `/3.0/getuploadinfo.php` è¿”å›ä¸Šä¼ é…ç½®

### 3. é˜¿é‡Œäº‘å†…ç½‘ä¸Šä¼ 

READMEæåˆ° `-a` å‚æ•°ï¼š
- å¯ä»¥åˆ©ç”¨é˜¿é‡Œäº‘å†…ç½‘ä¸Šä¼ 
- éœ€è¦115åœ¨æœåŠ¡å™¨æ‰€åœ¨åœ°åŸŸå¼€é€šäº†OSS
- è¯´æ˜115ç¡®å®ä½¿ç”¨é˜¿é‡Œäº‘OSSå­˜å‚¨

### 4. æ–­ç‚¹ç»­ä¼ å®ç°

- ä½¿ç”¨å­˜æ¡£æ–‡ä»¶ä¿å­˜ä¸Šä¼ çŠ¶æ€
- å‚æ•° `-d æ–‡ä»¶å¤¹` æŒ‡å®šå­˜æ¡£ä½ç½®
- æ”¯æŒæš‚åœæ•°å‘¨åç»§ç»­ï¼ˆè¯´æ˜115æœ‰é•¿æœŸæœ‰æ•ˆçš„ä¸Šä¼ tokenï¼‰
- åˆ†ç‰‡æ•°é‡å¯é…ç½®ï¼ˆ1-10000ï¼‰

### 5. ä»£ç†æ”¯æŒ

- `httpProxy` - HTTPè¯·æ±‚ä»£ç†
- `ossProxy` - OSSä¸Šä¼ ä»£ç†
- è¯´æ˜HTTPè¯·æ±‚å’ŒOSSä¸Šä¼ æ˜¯åˆ†å¼€çš„

## æ¨æ–­çš„å®Œæ•´ä¸Šä¼ æµç¨‹

åŸºäºä»¥ä¸Šåˆ†æï¼Œfake115uploaderå¯èƒ½çš„å®ç°æ–¹å¼ï¼š

### Step 1: è·å–ä¸Šä¼ å‚æ•°
```go
// GET https://uplb.115.com/3.0/getuploadinfo.php
// è¿”å›: OSS endpoint, regionç­‰
```

### Step 2: è·å–ä¸Šä¼ Token
```go
// GET https://uplb.115.com/3.0/gettoken.php?...
// å¯èƒ½éœ€è¦ä¼ é€’: filename, filesize, sigç­‰
// è¿”å›: STS token OR upload URL OR bucket info
```

### Step 3: åˆå§‹åŒ–åˆ†ç‰‡ä¸Šä¼ ï¼ˆå¦‚æœæ˜¯å¤§æ–‡ä»¶ï¼‰
```go
// å¯èƒ½è°ƒç”¨115çš„APIæˆ–ç›´æ¥è°ƒç”¨OSSçš„InitiateMultipartUpload
// è¿”å›: uploadId
```

### Step 4: ä¸Šä¼ åˆ†ç‰‡
```go
// PUTåˆ°OSSæˆ–115ä¸­è½¬API
// æ¯ä¸ªåˆ†ç‰‡ä¿å­˜çŠ¶æ€ï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼‰
```

### Step 5: å®Œæˆä¸Šä¼ 
```go
// é€šçŸ¥115ä¸Šä¼ å®Œæˆ
// å¯èƒ½éœ€è¦è°ƒç”¨ä¸€ä¸ª"å®Œæˆä¸Šä¼ "çš„API
// 115åˆ›å»ºæ–‡ä»¶è®°å½•
```

## å…³é”®é—®é¢˜

### é—®é¢˜1ï¼šBucketåç§°ä»å“ªæ¥ï¼Ÿ

å¯èƒ½çš„ç­”æ¡ˆï¼š
1. **å›ºå®šçš„bucketåç§°æ¨¡æ¿**ï¼šå¯èƒ½æ˜¯ `115-{region}` æˆ–ç±»ä¼¼
2. **ä»getuploadinfoè¿”å›**ï¼šå¯èƒ½åœ¨å®Œæ•´å“åº”ä¸­æœ‰bucketå­—æ®µ
3. **ä»gettokenè¿”å›**ï¼štokenå“åº”ä¸­å¯èƒ½åŒ…å«bucket
4. **é€šè¿‡ç‰¹æ®Šå‚æ•°è·å–**ï¼šéœ€è¦åœ¨è¯·æ±‚ä¸­ä¼ é€’ç‰¹å®šå‚æ•°æ‰è¿”å›

### é—®é¢˜2ï¼šObject Keyå¦‚ä½•ç”Ÿæˆï¼Ÿ

å½“å‰æˆ‘ä»¬ä½¿ç”¨ï¼š`sha1-{hash}-{timestamp}.{ext}`

fake115uploaderå¯èƒ½ä½¿ç”¨ï¼š
- ç‰¹å®šçš„å‘½åè§„åˆ™
- ä»APIè¿”å›çš„template
- åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„è·¯å¾„

### é—®é¢˜3ï¼šå¦‚ä½•é€šçŸ¥115ä¸Šä¼ å®Œæˆï¼Ÿ

ä¸Šä¼ åˆ°OSSåï¼Œå¿…é¡»é€šçŸ¥115ï¼š
- å¯èƒ½æœ‰ä¸€ä¸ªcallback URL
- å¯èƒ½éœ€è¦è°ƒç”¨é¢å¤–çš„API
- å¯èƒ½åœ¨OSS responseçš„callbackä¸­è‡ªåŠ¨å¤„ç†

## å»ºè®®çš„å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šå®Œæ•´æ¨¡æ‹Ÿfake115uploaderï¼ˆæ¨èï¼‰

1. **ç ”ç©¶fake115uploaderæºç **
   - å…‹éš†repoï¼š`git clone https://github.com/orzogc/fake115uploader.git`
   - é‡ç‚¹æŸ¥çœ‹ï¼š`oss.go`, `fast.go`, `multipart.go`
   - ç†è§£å…¶APIè°ƒç”¨é¡ºåºå’Œå‚æ•°

2. **Pythonå®ç°**
   - ç§»æ¤Goä»£ç é€»è¾‘åˆ°Python
   - ä¿æŒAPIè°ƒç”¨ä¸€è‡´
   - å®ç°ç›¸åŒçš„ç­¾åç®—æ³•

3. **æµ‹è¯•éªŒè¯**
   - å…ˆå®ç°ç§’ä¼ ï¼ˆæœ€ç®€å•ï¼‰
   - å†å®ç°å°æ–‡ä»¶ä¸Šä¼ 
   - æœ€åå®ç°åˆ†ç‰‡ä¸Šä¼ 

### æ–¹æ¡ˆBï¼šä½¿ç”¨115 Open APIï¼ˆå¦‚æœæœ‰æƒé™ï¼‰

å¦‚æœç”¨æˆ·æœ‰115å¼€æ”¾å¹³å°AppIDï¼š
- ä½¿ç”¨å®˜æ–¹SDKæˆ–API
- æ›´ç¨³å®šå¯é 
- ä½†éœ€è¦ç”³è¯·æƒé™

### æ–¹æ¡ˆCï¼šä½¿ç”¨fake115uploaderäºŒè¿›åˆ¶ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

- åœ¨Pythonä¸­è°ƒç”¨fake115uploaderå‘½ä»¤è¡Œ
- å¿«é€Ÿå®ç°ä¸Šä¼ åŠŸèƒ½
- ä½†ä¾èµ–å¤–éƒ¨äºŒè¿›åˆ¶

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… å…‹éš†fake115uploaderé¡¹ç›®åˆ°æœ¬åœ°
2. âœ… åˆ†æ`oss.go`ä¸­çš„æ ¸å¿ƒä¸Šä¼ é€»è¾‘
3. âœ… ç†è§£`hash.go`ä¸­çš„å“ˆå¸Œè®¡ç®—æ–¹å¼
4. âœ… æŸ¥çœ‹`fast.go`ä¸­çš„ç§’ä¼ å®ç°
5. âœ… ç ”ç©¶`multipart.go`ä¸­çš„åˆ†ç‰‡ä¸Šä¼ 
6. ğŸ”„ Pythonå®ç°ç›¸åŒé€»è¾‘
7. ğŸ”„ æµ‹è¯•éªŒè¯

## å‚è€ƒèµ„æ–™

- [fake115uploader GitHub](https://github.com/orzogc/fake115uploader)
- [Fake115Upload åŸé¡¹ç›®](https://github.com/K1L0RU/Fake115Upload)
- 115ç½‘ç›˜Web APIé€†å‘åˆ†æ

---

**æ›´æ–°æ—¶é—´**: 2025-10-18
**åˆ†æäººå‘˜**: TMCé¡¹ç›®å›¢é˜Ÿ

