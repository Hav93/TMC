# 115开放平台OAuth授权 - 快速开始

## 🚀 快速开始(3步完成)

### 步骤1: 扫码登录115账号

1. 访问 **设置 > 115网盘设置**
2. 选择设备类型(推荐: qandroid)
3. 点击"扫码登录"按钮
4. 使用115 APP扫码
5. ✅ 登录成功,cookies已保存

### 步骤2: 填写AppID

1. 访问[115开放平台](https://www.yuque.com/115yun/open)申请AppID
2. 在设置页面输入AppID
3. 保存配置

### 步骤3: 启用开放平台API

1. 点击"启用OPENAPI"开关
2. 🔐 弹出授权窗口,显示授权码(例如: `ABCD-EFGH`)
3. 点击"打开授权页面"按钮
4. 在新页面中输入授权码
5. 确认授权
6. ✅ 授权成功,系统自动获取access_token!

---

## 📱 授权窗口说明

授权窗口会显示:

- **大号授权码**: 需要输入到授权页面
- **授权URL**: 点击"打开授权页面"自动打开
- **轮询状态**: 实时显示授权进度
- **操作提示**: 清晰的三步指引

授权过程中不需要关闭窗口,完成授权后会自动检测并保存token!

---

## ⏱️ 时间线

- 获取授权码: **<2秒**
- 用户授权: **取决于用户操作**
- 轮询间隔: **5秒一次**
- 最大等待时间: **10分钟**

---

## ❓ 常见问题

### Q: 为什么需要OAuth授权?

A: OAuth 2.0是标准的授权协议,更安全且符合115官方要求。通过OAuth授权获取的access_token:
- ✅ 更稳定,有效期更长(通常2小时)
- ✅ 可刷新,使用refresh_token延长使用时间
- ✅ 权限明确,符合安全最佳实践

### Q: AppSecret在哪里?

A: **不需要AppSecret!** 我们使用OAuth 2.0 Device Code Flow,只需要:
- AppID
- Cookies(扫码登录获得)

### Q: 授权码有效期多久?

A: 默认**10分钟**,过期后需要重新激活获取新的授权码。

### Q: 可以跳过授权直接使用cookies吗?

A: 可以!如果只使用基础功能(获取用户信息、空间信息),扫码登录获得的cookies就足够了。
开放平台API主要用于:
- 更稳定的API访问
- 更长的凭证有效期
- 更丰富的功能权限

### Q: 授权超时怎么办?

A: 点击"重新激活"按钮,会生成新的授权码。

---

## 🔍 技术细节

想了解OAuth 2.0 Device Code Flow的完整实现细节?

👉 查看 [115_OAUTH_DEVICE_FLOW_GUIDE.md](./115_OAUTH_DEVICE_FLOW_GUIDE.md)

---

## 🎉 完成!

授权成功后,您将看到:

- ✅ 用户名
- ✅ VIP等级
- ✅ 空间信息(已用/总容量)
- ✅ "已激活"状态标识

现在您可以使用115网盘的所有功能了! 🚀

